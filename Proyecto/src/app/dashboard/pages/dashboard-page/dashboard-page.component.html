<app-alert class="absolute top-4 left-1/2 transform -translate-x-1/2 z-50" [message]="welcomeMessage || ''"
  [isVisible]="!!(welcomeMessage && welcomeMessage.length > 0)" [type]="'success'"></app-alert>

<div *ngIf="isLoading" class="fixed inset-0 flex items-center justify-center z-[1000] bg-white bg-opacity-50">
  <app-spinner></app-spinner>
</div>

<div class="flex flex-col items-center gap-2 max-w-6xl mx-auto mt-10">
  <div class="w-full text-center mb-4">
    <h2 class="text-2xl font-bold">¡Bienvenido, {{userName}}!</h2>
  </div>

  <!-- Categorías -->
  <div class="flex justify-center w-full gap-2">

    <!-- Resumen de Ventas -->
    <div class="w-1/3">
      <h3 class="text-lg font-bold text-center mb-4">Resumen de Ventas</h3>
      <div class="flex flex-col gap-2 items-center">
        <!-- Ventas Diarias -->
        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Ventas Diarias</p>
            <h4 class="text-lg font-bold text-green-500">+ ${{ ventasResumen.ventasDiarias.suma | number: '1.0-2' }}
            </h4>
            <p class="text-xs text-gray-500">Cantidad: {{ ventasResumen.ventasDiarias.total }}</p>
          </div>
        </div>

        <!-- Ventas Mensuales -->
        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Ventas Mensuales</p>
            <h4 class="text-lg font-bold text-green-500">+ ${{ ventasResumen.ventasMensuales.suma | number: '1.0-2' }}
            </h4>
            <p class="text-xs text-gray-500">Cantidad: {{ ventasResumen.ventasMensuales.total }}</p>
          </div>
        </div>

        <!-- Ventas Anuales -->
        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Ventas Anuales</p>
            <h4 class="text-lg font-bold text-green-500">+ ${{ ventasResumen.ventasAnuales.suma | number: '1.0-2' }}
            </h4>
            <p class="text-xs text-gray-500">Cantidad: {{ ventasResumen.ventasAnuales.total }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Resumen de Gastos -->
    <div class="w-1/3">
      <h3 class="text-lg font-bold text-center mb-4">Resumen de Gastos</h3>
      <div class="flex flex-col gap-2 items-center">
        <!-- Gastos Diarias -->
        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Gastos Diarios</p>
            <h4 class="text-lg font-bold text-red-500">- ${{ gastosResumen.gastosDiarios.totalCompra | number: '1.0-2'
              }}</h4>
            <p class="text-xs text-gray-500">Cantidad: {{ gastosResumen.gastosDiarios.cantidad }}</p>
          </div>
        </div>

        <!-- Gastos Diarios -->
        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Gastos Mensuales</p>
            <h4 class="text-lg font-bold text-red-500">- ${{ gastosResumen.gastosMensuales.totalCompra | number: '1.0-2'
              }}</h4>
            <p class="text-xs text-gray-500">Cantidad: {{ gastosResumen.gastosMensuales.cantidad }}</p>
          </div>
        </div>

        <!-- Gastos Anuales -->
        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Gastos Anuales</p>
            <h4 class="text-lg font-bold text-red-500">- ${{ gastosResumen.gastosAnuales.totalCompra | number: '1.0-2'
              }}</h4>
            <p class="text-xs text-gray-500">Cantidad: {{ gastosResumen.gastosAnuales.cantidad }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Resumen de Ganancias -->
    <div class="w-1/3">
      <h3 class="text-lg font-bold text-center mb-4">Resumen de Ganacias</h3>
      <div class="flex flex-col gap-2 items-center">
        <!-- Resumen de Ganancias -->
        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Ganancias Diarias</p>
            <h4 class="text-lg font-bold"
              [ngClass]="{'text-red-500': gananciasResumen.gananciaDiaria < 0, 'text-green-500': gananciasResumen.gananciaDiaria >= 0}">
              {{ gananciasResumen.gananciaDiaria < 0 ? '- $' + (gananciasResumen.gananciaDiaria * -1 | number: '1.0-0' )
                : '+ $' + (gananciasResumen.gananciaDiaria | number: '1.0-0' ) }} </h4>

          </div>
        </div>

        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Ganancias Mensuales</p>
            <h4 class="text-lg font-bold"
              [ngClass]="{'text-red-500': gananciasResumen.gananciaMensual < 0, 'text-green-500': gananciasResumen.gananciaMensual >= 0}">
              {{ gananciasResumen.gananciaMensual < 0 ? '- $' + (gananciasResumen.gananciaMensual * -1 | number: '1.0-0'
                ) : '+ $' + (gananciasResumen.gananciaMensual | number: '1.0-0' ) }} </h4>

          </div>
        </div>

        <div
          class="relative flex flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white bg-clip-border shadow-md shadow-[#F3F3F3] transform transition-transform duration-200 hover:shadow-lg hover:-translate-y-1 p-4 w-52 h-40">
          <div class="flex h-[70px] w-auto items-center justify-center">
            <div class="rounded-full bg-lightPrimary p-2">
              <span class="flex items-center text-brand-500">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" />
                </svg>

              </span>
            </div>
          </div>
          <div class="flex flex-col items-center justify-center text-sm">
            <p class="font-dm text-xs font-medium text-gray-600">Ganancias Anuales</p>
            <h4 class="text-lg font-bold"
              [ngClass]="{'text-red-500': gananciasResumen.gananciaAnual < 0, 'text-green-500': gananciasResumen.gananciaAnual >= 0}">
              {{ gananciasResumen.gananciaAnual < 0 ? '- $' + (gananciasResumen.gananciaAnual * -1 | number: '1.0-0' )
                : '+ $' + (gananciasResumen.gananciaAnual | number: '1.0-0' ) }} </h4>

          </div>
        </div>
      </div>
    </div>
